const myModule=function(){let e=[],r=[];const t=["C","D","H","S"],s=["A","J","Q","K"],a=document.querySelector("#new-card"),n=document.querySelector("#stop-game"),c=document.querySelectorAll(".player-scores"),o=document.querySelectorAll(".player-cards"),l=(document.querySelector("#machine-cards"),()=>{for(let r=2;r<=10;r++)for(let s of t)e.push(r+s);for(let r of t)for(let t of s)e.push(t+r);return _.shuffle(e)}),d=()=>{if(0===e.length)throw"There's no more cards";return e.pop()},i=(e,t)=>(r[t]=r[t]+(e=>{const r=e.substring(0,e.length-1);return isNaN(Number(r))?"A"===r?11:10:Number(r)})(e),c[t].innerHTML=String(r[t]),r[t]),u=(e,r)=>{const t=document.createElement("img");t.src=`assets/cards/${e}.png`,t.classList.add("game-card"),t.alt="Card",o[r].append(t)},b=e=>{let t=0;do{const e=d();t=i(e,1),u(e,1)}while(t<e&&e<21);(()=>{const[e,t]=r;setTimeout(()=>{t===e?alert("Nobody Won!"):e>21?alert("You Loose!"):21===e?alert("You Won!"):t>21?alert("You Won!"):alert("You Loose!")},300)})()};return a&&a.addEventListener("click",()=>{const e=d(),r=i(e,0);u(e,0),r>21?(a&&(a.disabled=!0),n&&(n.disabled=!0),a.classList.replace("btn-primary","btn-secondary"),n&&n.classList.replace("btn-primary","btn-secondary"),b(r)):21===r&&(a.disabled=!0,n&&(n.disabled=!0),a.classList.replace("btn-primary","btn-secondary"),n&&n.classList.replace("btn-primary","btn-secondary"),b(r))}),n&&n.addEventListener("click",()=>{a&&(a.disabled=!0),n.disabled=!0,a&&a.classList.replace("btn-primary","btn-secondary"),n.classList.replace("btn-primary","btn-secondary"),b(r[0])}),{newGame:(t=2)=>{e=l(),r=[];for(let e=0;e<t;e++)r.push(0);c.forEach(e=>e.innerHTML="0"),o.forEach(e=>e.innerHTML=""),a&&(a.disabled=!1),n&&(n.disabled=!1),a&&a.classList.replace("btn-secondary","btn-primary"),n&&n.classList.replace("btn-secondary","btn-primary")}}}();